LIGHT_BLACK_FG='\[\e[30m\]'
LIGHT_RED_FG='\[\e[31m\]'
LIGHT_GREEN_FG='\[\e[32m\]'
LIGHT_YELLOW_FG='\[\e[33m\]'
LIGHT_BLUE_FG='\[\e[34m\]'
LIGHT_MAGENTA_FG='\[\e[35m\]'
LIGHT_CYAN_FG='\[\e[36m\]'
LIGHT_WHITE_FG='\[\e[37m\]'

LIGHT_BLACK_BG='\[\e[40m\]'
LIGHT_RED_BG='\[\e[41m\]'
LIGHT_GREEN_BG='\[\e[42m\]'
LIGHT_YELLOW_BG='\[\e[43m\]'
LIGHT_BLUE_BG='\[\e[44m\]'
LIGHT_MAGENTA_BG='\[\e[45m\]'
LIGHT_CYAN_BG='\[\e[46m\]'
LIGHT_WHITE_BG='\[\e[47m\]'

BOLD_BLACK_FG='\[\e[1;30m\]'
BOLD_RED_FG='\[\e[1;31m\]'
BOLD_GREEN_FG='\[\e[1;32m\]'
BOLD_YELLOW_FG='\[\e[1;33m\]'
BOLD_BLUE_FG='\[\e[1;34m\]'
BOLD_MAGENTA_FG='\[\e[1;35m\]'
BOLD_CYAN_FG='\[\e[1;36m\]'
BOLD_WHITE_FG='\[\e[1;37m\]'

BOLD_BLACK_BG='\[\e[1;40m\]'
BOLD_RED_BG='\[\e[1;41m\]'
BOLD_GREEN_BG='\[\e[1;42m\]'
BOLD_YELLOW_BG='\[\e[1;43m\]'
BOLD_BLUE_BG='\[\e[1;44m\]'
BOLD_MAGENTA_BG='\[\e[1;45m\]'
BOLD_CYAN_BG='\[\e[1;46m\]'
BOLD_WHITE_BG='\[\e[1;47m\]'

COLOR_RESET='\[\e[0m\]'

function prompt_command()
{
    prompt="${BOLD_GREEN_FG}\!:\u ${BOLD_CYAN_FG}\w$(git_prompt) ${BOLD_WHITE_FG}\$${COLOR_RESET} "
    export PS1="${prompt}"
}

function git_prompt()
{
    ! git rev-parse --git-dir > /dev/null 2>&1 && return 0

    git_branch=$(git branch --no-color 2>/dev/null| sed -n '/^\*/s/^\* //p')
    git diff --quiet 2>/dev/null >&2 && git_color="${BOLD_GREEN_FG}" || git_color="${BOLD_RED_FG}"

    echo " ${BOLD_WHITE_FG}[${COLOR_RESET}${git_color}${git_branch}${BOLD_WHITE_FG}]"
}

function load_prompt()
{
    PROMPT_COMMAND=prompt_command
    export PS1 PROMPT_COMMAND
}

load_prompt
